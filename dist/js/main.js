!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);n(0),n(2),function(e,t){t.renderTotals(),document.getElementById("button").addEventListener("click",function(n){var o,r=0;t.getNewRecordInfo(),r=e.addRecord(t.dropdown,t.description,t.amount),o=e.getRecordInfo(r),t.renderRecord(o.sign,o.description,o.value,o.percent,o.id),t.setDeleteButton(r,function(){e.deleteRecord(r),t.updateAllRecords(e.incomeRecords,e.expenseRecords),t.renderTotals(e.total,e.totalIncome,e.incomePercent,e.totalExpenses,e.expensesPercent)}),t.updateAllRecords(e.incomeRecords,e.expenseRecords),t.renderTotals(e.total,e.totalIncome,e.incomePercent,e.totalExpenses,e.expensesPercent),n.preventDefault()})}(function(){return console.log("this is inside model controller"),new function(){var e=0,t=0,n=0,o=0,r=0,c=[],i=[],l=0;function s(e,t,n,o){this.sign=e,this.description=t,this.value=n,this.id=o,this.percent=0}function u(){return++l}function d(e){return e.id===this.id}function a(){e=0,t=0,n=0,o=0,r=0,t=0===c.length?0:c.reduce(function(e,t){return e+t.value},0),t=Math.round(100*t)/100,n=0===i.length?0:i.reduce(function(e,t){return e+t.value},0),n=Math.round(100*n)/100,o=Math.round(t/(t+n)*1e4)/100,r=Math.round(n/(n+t)*1e4)/100,e=t-n,e=Math.round(100*e)/100,c.forEach(function(e){e.percent=Math.round(e.value/t*1e4)/100}),i.forEach(function(e){e.percent=Math.round(e.value/n*1e4)/100})}this.testing=function(){console.log(c.reduce(function(e,t){return e+t.value},0))},this.addRecord=function(e,t,n){return"+"===e?(c.push(new s(e,t,n,u())),a(),l):"-"===e?(i.push(new s(e,t,n,u())),a(),l):void console.log("Error sign was neither + or negative")},this.getRecordInfo=function(e){return-1!==c.findIndex(d,{id:e})?JSON.parse(JSON.stringify(c[c.findIndex(d,{id:e})])):-1!==i.findIndex(d,{id:e})?JSON.parse(JSON.stringify(i[i.findIndex(d,{id:e})])):null},this.deleteRecord=function(e){-1!==c.findIndex(d,{id:e})?(c.splice(c.findIndex(d,{id:e}),1),a()):-1!==i.findIndex(d,{id:e})?(i.splice(i.findIndex(d,{id:e}),1),a()):console.log("Error ID provided is not found")},this.showBudget=function(){console.log("********** START **********"),console.log(" Total : "+e),console.log(" Total income : "+t),console.log(" Total expense: "+n),console.log(" Total income percent: "+o),console.log(" Total expense percent: "+r),console.log(" income records : "+c.length),console.log(" expense records : "+i.length),console.log("*********** END ***********"),console.log(this)},Object.defineProperties(this,{total:{get:function(){return e},set:function(e){console.log("Not allowed to set this property")}},totalIncome:{get:function(){return t},set:function(e){console.log("Not allowed to set this property")}},totalExpenses:{get:function(){return n},set:function(e){console.log("Not allowed to set this property")}},incomePercent:{get:function(){return o},set:function(e){console.log("Not allowed to set this property")}},expensesPercent:{get:function(){return r},set:function(e){console.log("Not allowed to set this property")}},incomeRecords:{get:function(){return c},set:function(e){console.log("Not allowed to set this property")}},expenseRecords:{get:function(){return i},set:function(e){console.log("Not allowed to set this property")}}})}}(),function(){var e=document.querySelector(".income"),t=document.querySelector(".expense"),n=document.getElementById("mydropdown"),o=document.getElementById("description"),r=document.getElementById("amount"),c=document.querySelector(".total"),i=document.querySelector(".total-income"),l=document.querySelector(".total-income-percent"),s=document.querySelector(".total-expenses"),u=document.querySelector(".total-expenses-percent"),d="",a="",f=0;return new function(){function p(n){Array.prototype.forEach.call(e.children,function(t){parseInt(t.dataset.id)===n&&e.removeChild(t)}),Array.prototype.forEach.call(t.children,function(e){parseInt(e.dataset.id)===n&&t.removeChild(e)})}this.setDeleteButton=function(n,o){Array.prototype.forEach.call(e.children,function(e){parseInt(e.dataset.id)===n&&(e.querySelector(".delete-button").onclick=function(){p(n),o()})}),Array.prototype.forEach.call(t.children,function(e){parseInt(e.dataset.id)===n&&(e.querySelector(".delete-button").onclick=function(){p(n),o()})})},this.renderTotals=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;c.innerHTML=Number.isNaN(e)?0:e,i.innerHTML=Number.isNaN(t)?0:"+ ".concat(t),l.innerHTML=Number.isNaN(n)?"0 %":"".concat(n," %"),s.innerHTML=Number.isNaN(o)?0:"- ".concat(o),u.innerHTML=Number.isNaN(r)?"0 %":"".concat(r," %")},this.getNewRecordInfo=function(){d=n.value,a=o.value,f=parseFloat(parseFloat(r.value).toFixed(2))},this.renderRecord=function(n,o,r,c,i){var l='\n            <div class="row '.concat("+"===n?"income":"expenses",'-record" data-id=').concat(i,'>\n                <p class="item-description">').concat(o,'</p>\n                <p class="item-amount">').concat(r,'</p>\n                <p class="item-percent">').concat(c,'%</p>\n                <button type="button" class="delete-button">\n                    <svg class="delete-button__icon">\n                        <use href="./assets/SVG/symbol-defs.svg#icon-close-outline" xlink:href="./assets/SVG/symbol-defs.svg#icon-close-outline"></use>\n                    </svg>\n                </button>\n            </div>');"+"===n?e.insertAdjacentHTML("beforeend",l):"-"==n?t.insertAdjacentHTML("beforeend",l):console.log("error occured when adding a record to the UI")},this.updateAllRecords=function(n,o){n.forEach(function(t){Array.prototype.forEach.call(e.children,function(e){parseInt(e.dataset.id)===t.id&&(e.querySelector(".item-percent").innerHTML="".concat(t.percent," %"))})}),o.forEach(function(e){Array.prototype.forEach.call(t.children,function(t){parseInt(t.dataset.id)===e.id&&(t.querySelector(".item-percent").innerHTML="".concat(e.percent," %"))})})},Object.defineProperties(this,{dropdown:{get:function(){return d},set:function(e){console.log("Not allowed to set this property")}},description:{get:function(){return a},set:function(e){console.log("Not allowed to set this property")}},amount:{get:function(){return f},set:function(e){console.log("Not allowed to set this property")}}})}}())}]);